"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[730],{2730:(P,u,l)=>{l.r(u),l.d(u,{LibraryModule:()=>F});var p=l(6019),a=l(7537),c=l(2979),o=l(3556),g=l(8190);const h=function(){return["/library/add-new-book"]};function k(n,i){1&n&&(o.TgZ(0,"a",2),o.TgZ(1,"li"),o._uU(2,"Insert Book"),o.qZA(),o.qZA()),2&n&&o.Q6J("routerLink",o.DdM(1,h))}const _=function(){return["/library/return-books"]};function m(n,i){1&n&&(o.TgZ(0,"a",2),o.TgZ(1,"li"),o._uU(2,"Return Books"),o.qZA(),o.qZA()),2&n&&o.Q6J("routerLink",o.DdM(1,_))}const f=function(){return["/library/home"]};let x=(()=>{class n{constructor(e){this.cookieService=e,this.hello="Hello world",this.books=[],this.movedLeft=!1,this.role=""}ngOnInit(){this.role=this.cookieService.getRole(),console.log("role: ",this.role)}toggleLeftPanel(){}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(g.T))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-library-home"]],decls:11,vars:4,consts:[["id","leftPanel"],[1,"material-icons"],[3,"routerLink"],[3,"routerLink",4,"ngIf"],["id","outerContainer"]],template:function(e,t){1&e&&(o.TgZ(0,"span",0),o.TgZ(1,"span",1),o._uU(2,"dashboard"),o.qZA(),o.TgZ(3,"ul"),o.TgZ(4,"a",2),o.TgZ(5,"li"),o._uU(6,"Library Home"),o.qZA(),o.qZA(),o.YNc(7,k,3,2,"a",3),o.YNc(8,m,3,2,"a",3),o.qZA(),o.qZA(),o.TgZ(9,"span",4),o._UZ(10,"router-outlet"),o.qZA()),2&e&&(o.xp6(4),o.Q6J("routerLink",o.DdM(3,f)),o.xp6(3),o.Q6J("ngIf","librarian"===t.role||"admin"===t.role),o.xp6(1),o.Q6J("ngIf",""!==t.role))},directives:[c.yS,p.O5,c.lC],styles:['[_nghost-%COMP%]{display:flex;flex-flow:row nowrap;align-items:stretch;min-height:91vh}.material-icons[_ngcontent-%COMP%]{text-align:center;margin:20px 0 10px 90px;font-size:40px;cursor:pointer}ul[_ngcontent-%COMP%]{list-style-type:none}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}li[_ngcontent-%COMP%]{margin:0 0 10px -10px}li[_ngcontent-%COMP%]:before{content:"-> "}#leftPanel[_ngcontent-%COMP%]{min-width:250px;border:1px solid black;transition:margin 1s ease-in;position:sticky;top:0}#outerContainer[_ngcontent-%COMP%]{flex-grow:1;border:1px solid red;padding:20px}']}),n})();var C=l(4522);let d=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost",this.port=3e3,this.dataUrl=`${this.apiUrl}:${this.port}/api/logout`,this.postNewBookUrl=`${this.apiUrl}:${this.port}/api/library/add-new-book`,this.getBooksUrl=`${this.apiUrl}:${this.port}/api/library`,this.getBookDetailsUrl=`${this.apiUrl}:${this.port}/api/library/get-book`,this.deleteBookUrl=`${this.apiUrl}:${this.port}/api/library/delete-book`,this.issuedBookListUrl=`${this.apiUrl}:${this.port}/api/library/get-issued-books`,this.postIssueUrl=`${this.apiUrl}:${this.port}/api/library/post-issue`,this.returnBookUrl=`${this.apiUrl}:${this.port}/api/library/return-book`}getData(){return this.http.get(this.dataUrl)}postNewBook(e){return this.http.post(this.postNewBookUrl,e)}getBooks(e){return this.http.get(this.getBooksUrl+e)}getBookDetails(e){return this.http.get(this.getBookDetailsUrl,{params:{id:e},responseType:"text"})}getIssuedBookList(){return this.http.get(this.issuedBookListUrl)}postIssue(e){return this.http.post(this.postIssueUrl,{bookId:e})}returnBook(e){return this.http.get(this.returnBookUrl,{params:{bookId:e}})}deleteBook(e){return this.http.get(this.deleteBookUrl,{params:{bookId:e}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(C.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Z=(()=>{class n{constructor(e){this.libService=e,this.book={}}ngOnInit(){console.log("printing from new form component"),null==this.book.stock&&(this.book.stock=1)}submitNewBook(){return this.newBookSub=this.libService.postNewBook(this.book).subscribe({next:e=>{console.log("data: "+e),this.ngOnInit()},error:e=>console.log("err: "+e)}),!1}ngOnDestroy(){this.newBookSub&&this.newBookSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(d))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-new-book-form"]],decls:29,vars:6,consts:[["id","myForm",3,"ngSubmit"],["id","container"],["for","title"],["id","bookTitle",1,"book"],["type","text","name","title","id","title","placeholder","Enter Book title",3,"ngModel","ngModelChange"],["for","author"],["id","bookAuthor",1,"book"],["type","text","name","author","id","author","placeholder","Enter Author name",3,"ngModel","ngModelChange"],["for","isn"],["id","bookIsn",1,"book"],["type","text","name","isn","id","isn","placeholder","Enter ISN",3,"ngModel","ngModelChange"],["for","desc"],["id","bookDesc",1,"book"],["type","text","name","desc","id","desc","placeholder","Enter description",3,"ngModel","ngModelChange"],["for","category"],["id","bookCategory",1,"book"],["type","text","name","category","id","category","placeholder","Comma seperated categories ex: physics, gravity",3,"ngModel","ngModelChange"],["for","stock"],["id","bookStock",1,"book"],["type","number","name","stock","id","stock","placeholder","Stock ...",3,"ngModel","ngModelChange"],["type","submit","value","Register","id","register"]],template:function(e,t){1&e&&(o.TgZ(0,"h1"),o._uU(1,"Add new Book Form"),o.qZA(),o.TgZ(2,"form",0),o.NdJ("ngSubmit",function(){return t.submitNewBook()}),o.TgZ(3,"div",1),o.TgZ(4,"label",2),o._uU(5,"Book Title:"),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"input",4),o.NdJ("ngModelChange",function(s){return t.book.title=s}),o.qZA(),o.qZA(),o.TgZ(8,"label",5),o._uU(9,"Author Name:"),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"input",7),o.NdJ("ngModelChange",function(s){return t.book.author=s}),o.qZA(),o.qZA(),o.TgZ(12,"label",8),o._uU(13,"ISN:"),o.qZA(),o.TgZ(14,"div",9),o.TgZ(15,"input",10),o.NdJ("ngModelChange",function(s){return t.book.ISN=s}),o.qZA(),o.qZA(),o.TgZ(16,"label",11),o._uU(17,"Description:"),o.qZA(),o.TgZ(18,"div",12),o.TgZ(19,"input",13),o.NdJ("ngModelChange",function(s){return t.book.description=s}),o.qZA(),o.qZA(),o.TgZ(20,"label",14),o._uU(21,"Category:"),o.qZA(),o.TgZ(22,"div",15),o.TgZ(23,"input",16),o.NdJ("ngModelChange",function(s){return t.book.category=s}),o.qZA(),o.qZA(),o.TgZ(24,"label",17),o._uU(25,"Stock:"),o.qZA(),o.TgZ(26,"div",18),o.TgZ(27,"input",19),o.NdJ("ngModelChange",function(s){return t.book.stock=s}),o.qZA(),o.qZA(),o._UZ(28,"input",20),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Q6J("ngModel",t.book.title),o.xp6(4),o.Q6J("ngModel",t.book.author),o.xp6(4),o.Q6J("ngModel",t.book.ISN),o.xp6(4),o.Q6J("ngModel",t.book.description),o.xp6(4),o.Q6J("ngModel",t.book.category),o.xp6(4),o.Q6J("ngModel",t.book.stock))},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.wV],styles:["[_nghost-%COMP%]{background-color:#fafafa}h1[_ngcontent-%COMP%]{text-align:center;-webkit-text-decoration:2px solid underline;text-decoration:2px solid underline}form[_ngcontent-%COMP%]{position:relative}container[_ngcontent-%COMP%]{position:absolute;top:5px;left:50%;transform:translate(-50%);font-size:17px;border:2px solid white;background-color:#fff;border-radius:20px;border-spacing:0 10px;box-shadow:0 8px 24px #959da533;padding:20px;min-width:60%}label[_ngcontent-%COMP%]{font-weight:bold}.book[_ngcontent-%COMP%]{margin:5px 0}input[type=text][_ngcontent-%COMP%]{font-size:15px;width:98%;padding:5px 10px;margin:5px 0;box-sizing:border-box;border:1px solid #bbb;border-radius:5px;background-color:#fff;outline:none}input[type=text][_ngcontent-%COMP%]:focus{border:3px solid #797474}#register[_ngcontent-%COMP%]{position:relative;left:50%;transform:translate(-50%);font-size:20px;margin:10px 0;padding:10px;background-color:#fff;border-radius:10px;border:1px solid #f3f3f3;box-shadow:0 2px 5px -1px #32325d40,0 1px 3px -1px #0000004d;cursor:pointer}#register[_ngcontent-%COMP%]:focus{box-shadow:0 0;border:1px solid #888}"]}),n})();var y=l(7908);const B=["bookOp"];function M(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().notifyUpdate()}),o.TgZ(1,"li"),o._uU(2,"Update Book"),o.qZA(),o.qZA()}}function T(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().deleteBook()}),o.TgZ(1,"li"),o._uU(2,"Delete Book"),o.qZA(),o.qZA()}}function v(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().issueBook()}),o.TgZ(1,"li"),o._uU(2,"Issue this Book"),o.qZA(),o.qZA()}}function w(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().returnBook()}),o.TgZ(1,"li"),o._uU(2,"Return this Book"),o.qZA(),o.qZA()}}let b=(()=>{class n{constructor(e,t,r){this.renderer=e,this.libService=t,this.cookieService=r,this.returningList=!1,this.updateBookNotify=new o.vpe,this.currentlyAvailable=!1,this.divShown=!1,this.role=this.cookieService.getRole()}ngOnInit(){console.log("Book: ",this.role),console.log("Returning List: ",this.returningList),this.book.stock>0&&(this.currentlyAvailable=!0)}ngAfterViewInit(){this.div=this.renderer.selectRootElement(this.bookOp.nativeElement,!0)}notifyUpdate(){this.updateBookNotify.emit(this.book)}toggleDiv(){this.divShown=!this.divShown,this.div.style.visibility=this.divShown?"visible":"hidden"}deleteBook(){console.log("deleting ",this.book._id),this.deleteSub=this.libService.deleteBook(this.book._id).subscribe({next:e=>console.log("Book:",e),error:e=>console.log("err: ",e)})}issueBook(){console.log("issuing: ",this.book._id),this.issueSub=this.libService.postIssue(this.book._id).subscribe({next:e=>console.log("issues:",e),error:e=>console.log("err: ",e)})}returnBook(){this.returnSub=this.libService.returnBook(this.book._id).subscribe({next:e=>console.log("returning book: ",e),error:e=>console.log("err: ",e)})}ngOnDestroy(){this.issueSub&&this.issueSub.unsubscribe(),this.deleteSub&&this.deleteSub.unsubscribe(),this.returnSub&&this.returnSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(d),o.Y36(g.T))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-book"]],viewQuery:function(e,t){if(1&e&&o.Gf(B,5),2&e){let r;o.iGM(r=o.CRH())&&(t.bookOp=r.first)}},inputs:{book:"book",returningList:"returningList"},outputs:{updateBookNotify:"updateBookNotify"},decls:36,vars:10,consts:[["id","container"],[1,"icon","material-icons",3,"click"],["id","bookOp"],["bookOp",""],[3,"click",4,"ngIf"],["src","../../../assets/book-icon.png","alt",""],[3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"span",1),o.NdJ("click",function(){return t.toggleDiv()}),o._uU(2,"more_vert"),o.qZA(),o.TgZ(3,"div",2,3),o.TgZ(5,"ul"),o.YNc(6,M,3,0,"a",4),o.YNc(7,T,3,0,"a",4),o.YNc(8,v,3,0,"a",4),o.YNc(9,w,3,0,"a",4),o.qZA(),o.qZA(),o._UZ(10,"img",5),o._UZ(11,"br"),o.TgZ(12,"label"),o._uU(13,"Title: "),o.qZA(),o._uU(14),o._UZ(15,"br"),o.TgZ(16,"label"),o._uU(17,"Author: "),o.qZA(),o._uU(18),o._UZ(19,"br"),o.TgZ(20,"label"),o._uU(21,"Field: "),o.qZA(),o._uU(22),o._UZ(23,"br"),o.TgZ(24,"label"),o._uU(25,"Description: "),o.qZA(),o._uU(26),o._UZ(27,"br"),o.TgZ(28,"label"),o._uU(29,"Currently Available: "),o.qZA(),o._uU(30),o._UZ(31,"br"),o.TgZ(32,"label"),o._uU(33,"Stock: "),o.qZA(),o._uU(34),o._UZ(35,"br"),o.qZA()),2&e&&(o.xp6(6),o.Q6J("ngIf","librarian"===t.role||"admin"===t.role),o.xp6(1),o.Q6J("ngIf","librarian"===t.role||"admin"===t.role),o.xp6(1),o.Q6J("ngIf",!t.returningList),o.xp6(1),o.Q6J("ngIf",t.returningList),o.xp6(5),o.hij(" ",t.book.title," "),o.xp6(4),o.hij(" ",t.book.author," "),o.xp6(4),o.hij(" ",t.book.category," "),o.xp6(4),o.hij(" ",t.book.description," "),o.xp6(4),o.hij(" ",t.currentlyAvailable," "),o.xp6(4),o.hij(" ",t.book.stock," "))},directives:[p.O5],styles:["#container[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px 35px;line-height:2.5;letter-spacing:1.2;background-color:#ffffffb2;border-radius:5px;box-shadow:#0000001a 0 4px 12px;position:relative;width:300px;min-height:300px;color:#3f3e3e}label[_ngcontent-%COMP%]{margin:5px;color:#000}img[_ngcontent-%COMP%]{width:32px}.icon[_ngcontent-%COMP%]{float:right;margin-top:4px;cursor:pointer;background-color:#9096a8;border-radius:50%;color:#fff}#bookOp[_ngcontent-%COMP%]{padding:5px;position:absolute;right:5px;top:35px;border:1px solid #888888;border-radius:5px;background-color:#fff;box-shadow:#00000059 0 5px 15px;visibility:hidden}ul[_ngcontent-%COMP%]{list-style:none;margin:5px;padding:0}a[_ngcontent-%COMP%]{color:#000;text-decoration:none;cursor:pointer}"]}),n})();function A(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"app-book",13),o.NdJ("updateBookNotify",function(r){return o.CHM(e),o.oxw().onNotify(r)}),o.qZA()}2&n&&o.Q6J("book",i.$implicit)}function U(n,i){if(1&n){const e=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){const s=o.CHM(e).index;return o.oxw().pageClicked(s+1)}),o._uU(1),o.qZA()}if(2&n){const e=i.index,t=o.oxw();o.Q6J("ngStyle",t.showSelectedPage(e+1)),o.xp6(1),o.hij(" ",e+1," ")}}let N=(()=>{class n{constructor(e,t){this.libService=e,this.router=t,this.filter="title",this.searchValue="",this.searchedValue="",this.searchedFilter="",this.currentPage=1,this.totalPages=1}ngOnInit(){this.getBooks("")}onNotify(e){console.log("Received book: ",e),this.router.navigate(["library/update-book",e._id])}getBooks(e){this.sub=this.libService.getBooks(e).subscribe({next:t=>{this.books=t.books,this.searchedValue=t.value,this.searchedFilter=t.filter,this.currentPage=t.current,this.totalPages=t.pages},error:t=>console.log("Error: ",t)})}searchBooks(){this.getBooks(`?filter=${this.filter}&value=${this.searchValue}`)}pageArray(){return new Array(this.totalPages)}showSelectedPage(e){return e==this.currentPage?{"box-shadow":"#00000029 0px 3px 6px, #0000003b 0px 3px 6px"}:{"box-shadow":"0",color:"#888888",cursor:"pointer"}}pageClicked(e){e!==this.currentPage&&this.getBooks(`?filter=${this.filter}&value=${this.searchValue}&page=${e}`)}ngOnDestroy(){this.sub instanceof y.w0&&this.sub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(d),o.Y36(c.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-book-layer"]],decls:19,vars:4,consts:[["id","search-box"],["name","filter","id","filter",3,"ngModel","ngModelChange"],["value",""],["value","title"],["value","author"],["value","category"],["id","inner-search-div"],["type","text","name","search","id","search","placeholder","Search a query ...",3,"ngModel","ngModelChange","keydown.enter"],[1,"icon","material-icons",3,"click"],["id","booksLayer"],[3,"book","updateBookNotify",4,"ngFor","ngForOf"],["id","pageNumbers"],["class","pgNo",3,"ngStyle","click",4,"ngFor","ngForOf"],[3,"book","updateBookNotify"],[1,"pgNo",3,"ngStyle","click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"select",1),o.NdJ("ngModelChange",function(s){return t.filter=s}),o.TgZ(2,"option",2),o._uU(3,"Search Filter"),o.qZA(),o.TgZ(4,"option",3),o._uU(5,"Book Title"),o.qZA(),o.TgZ(6,"option",4),o._uU(7,"Book Author"),o.qZA(),o.TgZ(8,"option",5),o._uU(9,"Book Field"),o.qZA(),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"input",7),o.NdJ("ngModelChange",function(s){return t.searchValue=s})("keydown.enter",function(){return t.searchBooks()}),o.qZA(),o.TgZ(12,"span",8),o.NdJ("click",function(){return t.searchBooks()}),o._uU(13,"search"),o.qZA(),o.qZA(),o.qZA(),o._UZ(14,"br"),o.TgZ(15,"div",9),o.YNc(16,A,1,1,"app-book",10),o.qZA(),o.TgZ(17,"div",11),o.YNc(18,U,2,2,"div",12),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngModel",t.filter),o.xp6(10),o.Q6J("ngModel",t.searchValue),o.xp6(5),o.Q6J("ngForOf",t.books),o.xp6(2),o.Q6J("ngForOf",t.pageArray()))},directives:[a.EJ,a.JJ,a.On,a.YN,a.Kr,a.Fj,p.sg,b,p.PC],styles:["#booksLayer[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;align-items:center}#search-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;margin:20px 0}select[_ngcontent-%COMP%]{background-color:#fff;border:0;box-shadow:#63636333 0 2px 5px;border-radius:10px;font-size:15px;padding:10px;margin:10px;cursor:pointer;width:150px}#inner-search-div[_ngcontent-%COMP%]{width:80%;background-color:#fff;box-shadow:#63636333 0 2px 5px;border-radius:40px;position:relative}#inner-search-div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:90%;height:50px;font-size:20px;padding:10px 30px;border-radius:40px;border:0;outline:none}#inner-search-div[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{position:absolute;right:15px;font-size:40px;color:#1eaddc;text-shadow:-1px -2px 2px #1EADDC;cursor:pointer;top:50%;transform:translateY(-50%)}app-book[_ngcontent-%COMP%]{display:inline-block;padding:10px}@media screen and (max-width: 1000px){#inner-search-div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:80%}@media screen and (max-width: 700px){#inner-search-div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:70%}@media screen and (max-width: 00px){#inner-search-div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:65%}}}}#pageNumbers[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:center}.pgNo[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;padding:10px;margin:20px;border-radius:5px}"]}),n})(),O=(()=>{class n{constructor(e,t){this.libService=e,this.route=t,this.book={}}ngOnInit(){console.log("Initilaizing update book");let e=this.route.snapshot.paramMap.get("id")||"";console.log("From update: ",e),this.getBookSub&&this.getBookSub.unsubscribe(),this.getBookSub=this.libService.getBookDetails(e).subscribe({next:t=>{this.book=JSON.parse(t)},error:t=>console.log("Error: ",t)})}submitNewBook(){return this.updateBookSub=this.libService.postNewBook(this.book).subscribe({next:e=>console.log("data: "+e),error:e=>console.log("err: "+e)}),!1}ngOnDestroy(){this.updateBookSub&&this.updateBookSub.unsubscribe(),this.getBookSub&&this.getBookSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(d),o.Y36(c.gz))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-update-book-form"]],decls:29,vars:6,consts:[["id","myForm",3,"ngSubmit"],["id","container"],["for","title"],["id","bookTitle",1,"book"],["type","text","name","title","id","title","placeholder","Enter Book title",3,"ngModel","ngModelChange"],["for","author"],["id","bookAuthor",1,"book"],["type","text","name","author","id","author","placeholder","Enter Author name",3,"ngModel","ngModelChange"],["for","isn"],["id","bookIsn",1,"book"],["type","text","name","isn","id","isn","placeholder","Enter ISN",3,"ngModel","ngModelChange"],["for","desc"],["id","bookDesc",1,"book"],["type","text","name","desc","id","desc","placeholder","Enter description",3,"ngModel","ngModelChange"],["for","category"],["id","bookCategory",1,"book"],["type","text","name","category","id","category","placeholder","Comma seperated categories ex: physics, gravity",3,"ngModel","ngModelChange"],["for","stock"],["id","bookStock",1,"book"],["type","number","name","stock","id","stock","placeholder","Number of books in library",3,"ngModel","ngModelChange"],["type","submit","value","Update","id","register"]],template:function(e,t){1&e&&(o.TgZ(0,"h1"),o._uU(1,"Update Book Info Form"),o.qZA(),o.TgZ(2,"form",0),o.NdJ("ngSubmit",function(){return t.submitNewBook()}),o.TgZ(3,"div",1),o.TgZ(4,"label",2),o._uU(5,"Book Title:"),o.qZA(),o.TgZ(6,"div",3),o.TgZ(7,"input",4),o.NdJ("ngModelChange",function(s){return t.book.title=s}),o.qZA(),o.qZA(),o.TgZ(8,"label",5),o._uU(9,"Author Name:"),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"input",7),o.NdJ("ngModelChange",function(s){return t.book.author=s}),o.qZA(),o.qZA(),o.TgZ(12,"label",8),o._uU(13,"ISN:"),o.qZA(),o.TgZ(14,"div",9),o.TgZ(15,"input",10),o.NdJ("ngModelChange",function(s){return t.book.ISN=s}),o.qZA(),o.qZA(),o.TgZ(16,"label",11),o._uU(17,"Description:"),o.qZA(),o.TgZ(18,"div",12),o.TgZ(19,"input",13),o.NdJ("ngModelChange",function(s){return t.book.description=s}),o.qZA(),o.qZA(),o.TgZ(20,"label",14),o._uU(21,"Category:"),o.qZA(),o.TgZ(22,"div",15),o.TgZ(23,"input",16),o.NdJ("ngModelChange",function(s){return t.book.category=s}),o.qZA(),o.qZA(),o.TgZ(24,"label",17),o._uU(25,"Stock:"),o.qZA(),o.TgZ(26,"div",18),o.TgZ(27,"input",19),o.NdJ("ngModelChange",function(s){return t.book.stock=s}),o.qZA(),o.qZA(),o._UZ(28,"input",20),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Q6J("ngModel",t.book.title),o.xp6(4),o.Q6J("ngModel",t.book.author),o.xp6(4),o.Q6J("ngModel",t.book.ISN),o.xp6(4),o.Q6J("ngModel",t.book.description),o.xp6(4),o.Q6J("ngModel",t.book.category),o.xp6(4),o.Q6J("ngModel",t.book.stock))},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,a.wV],styles:["[_nghost-%COMP%]{background-color:#fafafa}h1[_ngcontent-%COMP%]{text-align:center;-webkit-text-decoration:2px solid underline;text-decoration:2px solid underline}form[_ngcontent-%COMP%]{position:relative}container[_ngcontent-%COMP%]{position:absolute;top:5px;left:50%;transform:translate(-50%);font-size:17px;border:2px solid white;background-color:#fff;border-radius:20px;border-spacing:0 10px;box-shadow:0 8px 24px #959da533;padding:20px;min-width:60%}label[_ngcontent-%COMP%]{font-weight:bold}.book[_ngcontent-%COMP%]{margin:5px 0}input[type=text][_ngcontent-%COMP%]{font-size:15px;width:98%;padding:5px 10px;margin:5px 0;box-sizing:border-box;border:1px solid #bbb;border-radius:5px;background-color:#fff;outline:none}input[type=text][_ngcontent-%COMP%]:focus{border:3px solid #797474}#register[_ngcontent-%COMP%]{position:relative;left:50%;transform:translate(-50%);font-size:20px;margin:10px 0;padding:10px;background-color:#fff;border-radius:10px;border:1px solid #f3f3f3;box-shadow:0 2px 5px -1px #32325d40,0 1px 3px -1px #0000004d;cursor:pointer}#register[_ngcontent-%COMP%]:focus{box-shadow:0 0;border:1px solid #888}"]}),n})();function S(n,i){1&n&&o._UZ(0,"app-book",2),2&n&&o.Q6J("book",i.$implicit)("returningList",!0)}const q=[{path:"",component:x,children:[{path:"add-new-book",component:Z,canActivate:[(()=>{class n{constructor(e){this.cookieService=e}canActivate(e,t){let r=this.cookieService.getRole();return"admin"===r||"librarian"===r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(g.T))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"update-book/:id",component:O},{path:"return-books",component:(()=>{class n{constructor(e,t){this.cookieService=e,this.libService=t,this.role=this.cookieService.getRole()}ngOnInit(){this.libService.getIssuedBookList().subscribe({next:e=>{console.log("return books:",e),this.books=e},error:e=>console.log("err: ",e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(g.T),o.Y36(d))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-return-books"]],decls:2,vars:1,consts:[["id","returnBooksLayer"],[3,"book","returningList",4,"ngFor","ngForOf"],[3,"book","returningList"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,S,1,2,"app-book",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",t.books))},directives:[p.sg,b],styles:["[_nghost-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}app-book[_ngcontent-%COMP%]{margin:20px}"]}),n})()},{path:"books",component:N},{path:"**",redirectTo:"books"}]}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[d],imports:[[p.ez,a.u5,c.Bz.forChild(q)],c.Bz]}),n})()}}]);